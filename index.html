<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Portfolio</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav>
            <img id="logo" src="" alt="Logo" class="logo">
            <ul id="nav-menu"></ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <h1 id="hero-name"></h1>
        <p id="hero-tagline"></p>
        <a href="#projects" class="cta-button" id="hero-cta"></a>
    </section>

    <!-- Projects Section -->
    <section class="section" id="projects">
        <div class="container">
            <h2>Featured Projects</h2>
            <div class="projects" id="projects-container"></div>
        </div>
    </section>

    <!-- Skills Section -->
    <section class="section" id="skills">
        <div class="container">
            <h2>Skills</h2>
            <div class="skills" id="skills-container"></div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section" id="contact">
        <div class="container">
            <h2 id="contact-title"></h2>
            <p id="contact-message"></p>
            <div class="contact-links" id="contact-links"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p id="footer-text"></p>
    </footer>

    <script>
        // Load portfolio data from JSON
        async function loadPortfolio() {
            try {
                // Try to fetch the JSON file
                const response = await fetch('assets/data/portfolio.json');
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                renderPortfolio(data.portfolio);
            } catch (error) {
                console.error('Error loading portfolio data:', error);
                // Fallback: Use inline data
                console.log('Using fallback data');
                const fallbackData = {
                    "title": "Phuwis - Portfolio",
                    "logo": "assets/images/27002.jpg",
                    "navigation": [
                        { "label": "Home", "href": "#home" },
                        { "label": "Projects", "href": "#projects" },
                        { "label": "Skills", "href": "#skills" },
                        { "label": "Contact", "href": "#contact" }
                    ],
                    "hero": {
                        "name": "Phuwis Watthana",
                        "tagline": "Full Stack Developer | Creative Problem Solver",
                        "cta": "View My Work"
                    },
                    "projects": [
                        {
                            "id": 1,
                            "title": "E-Commerce Platform",
                            "description": "A full-stack web application built with React and Node.js. Features include product catalog, shopping cart, and payment integration.",
                            "link": "#"
                        },
                        {
                            "id": 2,
                            "title": "Task Management App",
                            "description": "A productivity tool with real-time collaboration features. Built with React, Firebase, and Material-UI for a modern user experience.",
                            "link": "#"
                        },
                        {
                            "id": 3,
                            "title": "Weather Dashboard",
                            "description": "An interactive weather application using APIs. Displays real-time weather data, forecasts, and location-based information.",
                            "link": "#"
                        }
                    ],
                    "skills": [
                        { "category": "Frontend", "items": "HTML5, CSS3, JavaScript, React, Vue.js, Responsive Design" },
                        { "category": "Backend", "items": "Node.js, Express, Python, MongoDB, PostgreSQL, REST APIs" },
                        { "category": "Tools & Platforms", "items": "Git, Docker, AWS, Firebase, Webpack, VS Code" },
                        { "category": "Soft Skills", "items": "Problem Solving, Communication, Team Collaboration, Project Management" }
                    ],
                    "contact": {
                        "title": "Get In Touch",
                        "message": "I'm always interested in hearing about new projects and opportunities.",
                        "links": [
                            { "label": "Email", "href": "mailto:john@example.com" },
                            { "label": "LinkedIn", "href": "https://linkedin.com/in/johndoe", "target": "_blank" },
                            { "label": "GitHub", "href": "https://github.com/johndoe", "target": "_blank" },
                            { "label": "Twitter", "href": "https://twitter.com/johndoe", "target": "_blank" }
                        ]
                    },
                    "footer": {
                        "copyright": "© 2025 Phuwis Watthana. All rights reserved."
                    }
                };
                renderPortfolio(fallbackData);
            }
        }

        function renderPortfolio(portfolio) {
            // Update page title
            document.title = portfolio.title;
            document.getElementById('page-title').textContent = portfolio.title;

            // Update logo
            document.getElementById('logo').src = portfolio.logo;

            // Update navigation
            const navMenu = document.getElementById('nav-menu');
            portfolio.navigation.forEach(item => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = item.href;
                a.textContent = item.label;
                li.appendChild(a);
                navMenu.appendChild(li);
            });

            // Update hero section
            document.getElementById('hero-name').textContent = portfolio.hero.name;
            document.getElementById('hero-tagline').textContent = portfolio.hero.tagline;
            document.getElementById('hero-cta').textContent = portfolio.hero.cta;

            // Update projects
            const projectsContainer = document.getElementById('projects-container');
            portfolio.projects.forEach(project => {
                const card = document.createElement('div');
                card.className = 'project-card';
                card.innerHTML = `
                    <div class="project-image">Project ${project.id}</div>
                    <div class="project-info">
                        <h3>${project.title}</h3>
                        <p>${project.description}</p>
                        <a href="${project.link}" class="project-link">View Project →</a>
                    </div>
                `;
                projectsContainer.appendChild(card);
            });

            // Update skills
            const skillsContainer = document.getElementById('skills-container');
            portfolio.skills.forEach(skill => {
                const item = document.createElement('div');
                item.className = 'skill-item';
                item.innerHTML = `
                    <h3>${skill.category}</h3>
                    <p>${skill.items}</p>
                `;
                skillsContainer.appendChild(item);
            });

            // Update contact section
            document.getElementById('contact-title').textContent = portfolio.contact.title;
            document.getElementById('contact-message').textContent = portfolio.contact.message;

            const contactLinks = document.getElementById('contact-links');
            portfolio.contact.links.forEach(link => {
                const a = document.createElement('a');
                a.href = link.href;
                a.textContent = link.label;
                if (link.target) a.target = link.target;
                contactLinks.appendChild(a);
            });

            // Update footer
            document.getElementById('footer-text').textContent = portfolio.footer.copyright;
        }

        // Load portfolio on page load
        document.addEventListener('DOMContentLoaded', loadPortfolio);

        // Smooth scrolling for navigation links
        document.addEventListener('click', function(e) {
            if (e.target.tagName === 'A' && e.target.getAttribute('href').startsWith('#')) {
                e.preventDefault();
                const target = document.querySelector(e.target.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    </script>
</body>
</html>